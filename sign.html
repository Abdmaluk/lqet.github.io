<!DOCTYPE html>
<html>
<head>
  <title>Signup</title>
  <script src="https://www.gstatic.com/firebasejs/8.8.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.8.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.8.0/firebase-firestore.js"></script>

  <script>
    // Initialize Firebase
    var firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
      projectId: "YOUR_PROJECT_ID",
      appId: "YOUR_APP_ID"
    };

    firebase.initializeApp(firebaseConfig);

    document.getElementById('signupForm').addEventListener('submit', function(event) {
      event.preventDefault();

      var email = document.getElementById('email').value;
      var username = document.getElementById('username').value;
      var name = document.getElementById('name').value;
      var message = document.getElementById('message').value;

      // Check if the email, username, name, and message are not empty
      if (email && username && name && message) {
        // Authenticate the request
        firebase.auth().signInAnonymously()
          .then(function(userCredential) {
            var user = userCredential.user;
            
            // Send the request to your backend for processing
            var backendEndpoint = 'https://your-backend-url.com/process-signup';

            var requestData = {
              email: email,
              username: username,
              name: name,
              message: message
            };

            fetch(backendEndpoint, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify(requestData)
            })
            .then(function(response) {
              if (response.ok) {
                console.log("Authorization request submitted successfully");
                // Optionally, display a success message to the user or redirect them to a thank you page
                // For example:
                // window.location.href = 'thankyou.html';
              } else {
                console.error("Error submitting authorization request");
                // Display an error message to the user indicating the request couldn't be submitted
              }
            })
            .catch(function(error) {
              console.error("Error submitting authorization request: ", error);
              // Display an error message to the user indicating the request couldn't be submitted
            });
          })
          .catch(function(error) {
            console.error("Error authenticating the request: ", error);
            // Display an error message to the user indicating the authentication error
          });
      } else {
        // Display an error message to the user indicating required fields are missing
      }
    });
  </script>
</head>
<body>
  <h1>Signup</h1>

  <form id="signupForm">
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>

    <label for="username">Username:</label>
    <input type="text" id="username" name="username" required>

    <label for="name">Name:</label>
    <input type="text" id="name" name="name" required>

    <label for="message">Message:</label>
    <textarea id="message" name="message" required></textarea>

    <input type="submit" value="Request Authorization">
 


</body>
</html>
